# Google Analytics
NEXT_PUBLIC_GA_ID=your-google-analytics-id

# Site Configuration
# For production: Set to your production domain (e.g., https://huculturehub.com)
# For Vercel: Vercel automatically provides VERCEL_URL for preview deployments,
# but you should set NEXT_PUBLIC_SITE_URL for production domain
# If not set, will use VERCEL_URL (preview) or default to https://huculturehub.com
NEXT_PUBLIC_SITE_URL=https://huculturehub.com

# Development
NODE_ENV=development
# Set to false to enable API routes in development (default: false)
STATIC_EXPORT=false

# ============================================================================
# Authentication (NextAuth.js v5 - 2025)
# ============================================================================
# NextAuth.js Configuration
# Generate AUTH_SECRET with: openssl rand -base64 32
AUTH_SECRET=your-auth-secret-here
AUTH_URL=http://localhost:3000  # or your production URL

# Google OAuth (for Google Workspace authentication)
# Get credentials from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Google Workspace Domain Restriction
# Only users from this domain can sign in (e.g., huculturehub.com)
GOOGLE_WORKSPACE_DOMAIN=yourdomain.com

# ============================================================================
# Turso Database (SQLite)
# ============================================================================
# For local development: file:./local.db
# For production: Get from Turso dashboard (libsql://...)
# Setup: https://vercel.com/marketplace/tursocloud
TURSO_DATABASE_URL=file:./local.db
TURSO_AUTH_TOKEN=

# ============================================================================
# Vercel Blob Storage
# ============================================================================
# Automatically set when using Vercel Blob Storage
# For local development, you can leave this empty
# Setup: https://vercel.com/docs/storage/vercel-blob
BLOB_READ_WRITE_TOKEN=

# ============================================================================
# Rate Limiting Configuration
# ============================================================================
# Number of requests allowed per window
RATE_LIMIT=5
# Time window in seconds (e.g., 600 = 10 minutes)
RATE_WINDOW_SECONDS=600
# Use device fingerprint (IP + User-Agent + headers) instead of IP only
# Set to 'false' to use only IP address (less accurate but simpler)
RATE_LIMIT_USE_FINGERPRINT=true
# Fail-closed on rate limit errors (reject requests when rate limiting fails)
# 'true' = always fail-closed, 'false' = always fail-open
# If not set: fail-closed in production, fail-open in development
RATE_LIMIT_FAIL_CLOSED=

# BlackForest Lab API (Flux1 Kontext Pro)
# Get your API key from: https://bfl.ai/
# API Documentation: https://docs.bfl.ai/
PROVIDER_API_KEY=your_blackforest_lab_api_key_here

# BFL API Endpoint (optional, defaults to global endpoint)
# Options: https://api.bfl.ai (global), https://api.eu.bfl.ai (EU), https://api.us.bfl.ai (US)
# See: https://docs.bfl.ai/api_integration/integration_guidelines#api-endpoints-overview
BFL_API_URL=https://api.bfl.ai/v1/flux-kontext-pro

# Google reCAPTCHA v2
# Get your keys from: https://www.google.com/recaptcha/admin
# Site Key is public (safe to expose) - Secret Key must be kept private
# Choose "reCAPTCHA v2" and "I'm not a robot" Checkbox option
NEXT_PUBLIC_RECAPTCHA_SITE_KEY=your_site_key_here
RECAPTCHA_SECRET_KEY=your_secret_key_here

# ============================================================================
# Email Configuration (Google Workspace SMTP)
# ============================================================================
# IMPORTANT: For Google Workspace/Gmail, you MUST use an App Password, NOT your regular password
# 
# Setup Instructions:
# 1. Enable 2-Step Verification: https://myaccount.google.com/security
# 2. Generate App Password: https://myaccount.google.com/apppasswords
#    - Select "Mail" as the app
#    - Select "Other (Custom name)" as device
#    - Enter: "Hell University Reservation System"
#    - Copy the 16-character password (remove spaces)
# 3. Use the App Password in SMTP_PASSWORD below
#
# SMTP Configuration (Google Workspace/Gmail)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false

# Email account that SENDS emails (requires App Password)
# Example: SMTP_USER=admin@huculturehub.com
# Example: SMTP_USER=helluniversity.cm@gmail.com
SMTP_USER=your-email@yourdomain.com

# App Password (16 characters, NO SPACES)
# Example: SMTP_PASSWORD=abcdefghijklmnop
# DO NOT use your regular Google password!
# Get your App Password from: https://myaccount.google.com/apppasswords
SMTP_PASSWORD=your-app-password-here

# Email address to RECEIVE reservation notifications (admin email)
# If not set, will default to SMTP_USER
# Can be same as SMTP_USER or a different email address
# Example: RESERVATION_EMAIL=reservations@huculturehub.com
# Example: RESERVATION_EMAIL=helluniversity.cm@gmail.com
RESERVATION_EMAIL=reservations@yourdomain.com

# ============================================================================
# File Upload & Request Size Limits (in bytes)
# ============================================================================
# Maximum FormData size (for file uploads including metadata)
# Default: 20971520 (20MB)
MAX_FORMDATA_SIZE=20971520

# Maximum JSON request body size
# Default: 1048576 (1MB)
MAX_REQUEST_BODY_SIZE=1048576

# Maximum image file size (for validation)
# Default: 20971520 (20MB)
# Note: Should match MAX_FORMDATA_SIZE for consistency
MAX_IMAGE_FILE_SIZE=20971520

# Maximum processed image size (after compression/resize)
# Default: 5242880 (5MB)
MAX_IMAGE_PROCESSED_SIZE=5242880

# Maximum thumbnail size
# Default: 512000 (500KB)
MAX_IMAGE_THUMBNAIL_SIZE=512000

# Maximum email metadata size (JSON string in email_queue table)
# Default: 102400 (100KB)
MAX_EMAIL_METADATA_SIZE=102400

# Client-side file size limit (for frontend validation)
# Must be prefixed with NEXT_PUBLIC_ to be accessible in browser
# Default: 20971520 (20MB)
# Note: Should match MAX_IMAGE_FILE_SIZE for consistency
NEXT_PUBLIC_MAX_IMAGE_FILE_SIZE=20971520

# ============================================================================
# Email Queue Configuration
# ============================================================================
# Rate limit for email queue processing (emails per minute)
# Default: 30
EMAIL_QUEUE_RATE_LIMIT=30

# ============================================================================
# Email Configuration Examples:
# ============================================================================
# 
# Option 1: Same email for sending and receiving
# SMTP_USER=helluniversity.cm@gmail.com
# SMTP_PASSWORD=abcdefghijklmnop
# RESERVATION_EMAIL=helluniversity.cm@gmail.com
# (or omit RESERVATION_EMAIL to use SMTP_USER)
#
# Option 2: Different emails
# SMTP_USER=noreply@huculturehub.com          # Sender
# SMTP_PASSWORD=abcdefghijklmnop                # App password for sender
# RESERVATION_EMAIL=reservations@huculturehub.com  # Admin receiver
#
# ============================================================================
# Notes:
# - Copy this file to .env.local and fill in your actual values
# - Never commit .env.local to version control (already in .gitignore)
# - Restart your development server after changing environment variables
# 
# Database Setup:
# - See DATABASE_SETUP.md for detailed setup instructions
# - For local development: TURSO_DATABASE_URL=file:./local.db
# - For production: Get from Turso dashboard or Vercel Marketplace
# 
# Blob Storage:
# - Automatically configured when using Vercel Blob Storage
# - BLOB_READ_WRITE_TOKEN is auto-set in Vercel deployments
# ============================================================================
